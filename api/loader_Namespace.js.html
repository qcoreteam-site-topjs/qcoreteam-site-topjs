<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>loader/Namespace.js - Documentation</title>

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="../css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="../css/prettify.css">
    <link type="text/css" rel="stylesheet" href="../css/jsdoc.css">
    <link type="text/css" rel="stylesheet" href="../css/extra.css">
    <link type="text/css" rel="stylesheet" href="../css/common.css">
</head>
<body>
<header class="navbar navbar-fixed-top fixed-header fixed-header-active header hidden-sm-down">
    <nav class="navbar navbar-light">

        <div class="">
            <button class="navbar-toggler hidden-lg-up float-xs-right" type="button" data-toggle="collapse"
                    data-target="#navbarResponsive"
                    aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation"></button>
            <a href="/"><img class="navbar-brand logo" src="../images/logo-green.png"></a>

            <div class="collapse navbar-toggleable-md float-lg-right" id="navbarResponsive">
                <ul class="nav navbar-nav float-lg-right">
                    <li class="nav-item"><a class="nav-link" href="/" >首页</a></li><li class="nav-item"><a class="nav-link" href="/docs/v0.0.1/" >手册</a></li><li class="nav-item"><a class="nav-link" href="/api/" >API文档</a></li><li class="nav-item"><a class="nav-link" href="/categories/blog/" >博客</a></li><li class="nav-item"><a class="nav-link" href="/categories/devel/" >开发日志</a></li><li class="nav-item"><a class="nav-link" href="/about/" >关于我们</a></li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<div class="hidden-md-up sm-header">
    <div class="toggler" id="slideClose"></div>
    <img src="../images/logo-green.png">
</div>
<div class="api-container clearfix">
    <nav>
        <div class="category hidden-md-up">
            <a href="/">首页</a>
            <a href="/docs/v0.0.1/">手册</a>
            <a href="/api/">API文档</a>
            <a href="/categories/blog">博客</a>
            <a href="/categories/devel">开发日志</a>
            <a href="/about">关于我们</a>
        </div>
        <h3>Namespaces</h3><ul class = "entry-type-namespaces"><li><a href="TopJs.html">TopJs</a><ul class='members'><li data-type='member' class='entry-type-class'><a href="TopJs.Array.html">Array</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Assert.html">Assert</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Base.html">Base</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Class.html">Class</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.ClassManager.html">ClassManager</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Config.html">Config</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Date.html">Date</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Error.html">Error</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Function.html">Function</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Loader.html">Loader</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Number.html">Number</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Object.html">Object</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.String.html">String</a></li><li data-type='member' class='entry-type-class'><a href="TopJs.Version.html">Version</a></li></ul></li><li><a href="TopJs.kernel.html">TopJs.kernel</a></li></ul><h3>Global</h3><ul><li><a href="global.html#callParent">callParent</a></li><li><a href="global.html#callSuper">callSuper</a></li><li><a href="global.html#clearPropertiesOnDestroy">clearPropertiesOnDestroy</a></li><li><a href="global.html#destroyed">destroyed</a></li><li><a href="global.html#isConfiguring">isConfiguring</a></li><li><a href="global.html#isFirstInstance">isFirstInstance</a></li><li><a href="global.html#isInstance">isInstance</a></li><li><a href="global.html#statics">statics</a></li></ul>
    </nav>
    <div id="main">
        
        <h1 class="page-title">loader/Namespace.js</h1>
        

        



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>"use strict";
/*
 * TopJs Framework (http://www.topjs.org/)
 *
 * @link      http://github.com/qcoreteam/topjs for the canonical source repository
 * @copyright Copyright (c) 2016-2017 QCoreTeam (http://www.qcoreteam.org)
 * @license   http://www.topjs.org/license/new-bsd New BSD License
 */
/**
 * 定义一个名称空间的包装器
 *
 * @author Jonathan ARNAULT
 *
 * @private
 * @constructor
 * @param {string} [name=null] 名称空间的名字
 * @param {Namespace} [parent=null] 当前的名称空间的父名称空间
 * @param {string} [directory=null] 当前名称空间关联的文件系统路径
 */

export default function Namespace(name = null, parent = null, directory = null)
{
    this.name = name;
    this.parent = parent;
    this.directory = directory;
    if (this.parent) {
        this.parent.setChild(name, this);
    }
}

Object.assign(Namespace.prototype, /** @lends TopJs.Namespace.prototype */{
    /**
     * @protected
     * @property {string|null} name 名称空间的名称
     */
    name: null,
    /**
     * @protected
     * @property {Namespace|null} parent 当前名称空间的父名称空间
     */
    parent: null,

    /**
     * @protected
     * @property {string|null} directory 当前名称空间对应的文件夹
     */
    directory: null,

    /**
     * @protected
     * @property {Map} children 子名称空间或者本名称空间的类
     */
    children: new Map(),

    /**
     * 获取当前名称空间的全称
     *
     * @return {string}
     */
    getFullName()
    {
        if (null !== this.parent) {
            return this.parent.getFullName() + "." + this.name;
        }
        return this.name;
    },

    /**
     * 获取名称空间的子项
     *
     * @return {string[]}
     */
    getChildrenKeys()
    {
        let iterator = this.children.keys();
        let keys = [];
        for (let key of iterator) {
            keys.push(key);
        }
        return kyes;
    },

    setDirectory(directory)
    {
        if (null !== this.directory) {
            throw new Error(`当前名称空间："${this.name}"的文件夹已经设置`);
        }
        this.directory = directory;
    },

    /**
     * 获取当前名称空间的子名称空间，如果不存在则返回false
     *
     * @param {string} name 需要获取的名称空间的名称
     * @returns {Namespace|null}
     * @throws {Error} 当子名称空间名称中含有`.`字符的时候抛出
     */
    getChildNamespace(name)
    {
        if (this.children.has(name)) {
            let child = this.children.get(name);
            if (child instanceof Namespace) {
                return child;
            }
        }
        return null;
    },
    /**
     * 获取当前名称空间指定的子名称对象引用
     *
     * @param {String} name 指定的子名称空间的名称
     * @returns {Namespace|null}
     */
    getChild(name)
    {
        if (this.children.has(name)) {
            return this.children.get(name);
        }
        return null;
    },
    /**
     * 给当前名称空间添加指定名称的名称空间对象
     *
     * @param name 待添加的名称空间的名称
     * @returns {null}
     * @throws {Error} 当子名称空间名称中含有`.`字符的时候抛出
     */
    setChild(name, ns)
    {
        if (-1 !== name.indexOf(".")) {
            throw new Error("child namespace name cannot contains '.'");
        }
        if (null !== ns &amp;&amp; ns instanceof Namespace) {
            if (this.children.has(name)) {
                return;
            }
            this.children.set(name, ns);
        }
    }
});</code></pre>
        </article>
    </section>




    </div>
</div>



<script src="../js/jquery.min.js"></script>
<script src="../js/tether.min.js" crossorigin="anonymous"></script>

<script src="../js/prettify/prettify.js"></script>
<script src="../js/prettify/lang-css.js"></script>
<script>prettyPrint();</script>

<script src="../js/bootstrap.min.js" crossorigin="anonymous"></script>
<script src="../js/linenumber.js"></script>
<script src="../js/maodian.js"></script>

<script src="../js/extra.js"></script>
<script src="../js/common.js"></script>
</body>
</html>
